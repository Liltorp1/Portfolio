<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="portfolio">
        <h1>My Portfolio</h1>
        <div id="holdings">
            <!-- Holding cards will be generated here -->
        </div>
        <button id="refresh">Refresh Holdings</button>
        <div id="error" class="hidden">Error fetching price data!</div>
    </div>

    <div id="modal" class="modal hidden">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="modal-title">Holdings Detail</h2>
            <!-- More details about the holding -->
            <button id="delete">Delete Holding</button>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        const holdings = []; // This should be populated with fetched data
        const holdingsContainer = document.getElementById('holdings');
        const refreshButton = document.getElementById('refresh');
        const errorDiv = document.getElementById('error');
        const modal = document.getElementById('modal');
        const modalTitle = document.getElementById('modal-title');
        const deleteButton = document.getElementById('delete');

        function populateHoldings() {
            holdingsContainer.innerHTML = '';
            holdings.forEach((holding, index) => {
                const card = document.createElement('div');
                card.className = 'holding-card';
                card.innerHTML = `<h3>${holding.name}</h3><p>Price: $${holding.price}</p>`;
                card.style.cursor = 'pointer';
                card.addEventListener('click', () => openModal(holding));
                holdingsContainer.appendChild(card);
            });
        }

        function openModal(holding) {
            modal.classList.remove('hidden');
            modalTitle.textContent = holding.name;
        }

        deleteButton.addEventListener('click', () => {
            // Implement delete functionality here
            console.log('Delete Holding Functionality');
            modal.classList.add('hidden');
        });

        refreshButton.addEventListener('click', populateHoldings);

        window.onload = function() {
            // Fetch holdings and call populateHoldings
            fetchHoldings();
        };

        function fetchHoldings() {
            // Simulate fetching data
            setTimeout(() => {
                // Simulated data for demonstration
                holdings.push({name: 'Holding 1', price: 100});
                holdings.push({name: 'Holding 2', price: 200});
                populateHoldings();
            }, 1000);
        }
    </script>
</body>
</html>